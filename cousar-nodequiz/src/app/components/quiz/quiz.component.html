<!--
============================================
; Title: NodeQuiz
; Author: Don Cousar
; Date: 03 October 2019
; Description: MEAN Stack Node Quiz Project
;===========================================
-->
<div fxLayout="column" style="margin-top: 5%; margin-left: 10%; width: 60%;">
    <mat-card class="mat-elevation-z8">
        <mat-card-title>{{quizChoice}} Quiz</mat-card-title>
        <mat-card-content *ngIf="myQuiz.questions">
            <form #f="ngForm" (ngSubmit)="onSubmit(f.value); f.reset();">
                <div fxLayout="column">
                    <div fxFlex *ngFor="let question of myQuiz.questions">
                        <mat-card class="mat-elevation-z8">
                            <div fxLayout="column">
                                <!-- questions-->
                                <mat-list>
                                    <div fxLayout="row" fxLayoutGap="10px">
                                        <p>Question: </p>
                                        <p>{{question.text}}</p>
                                    </div>
                                </mat-list>
                                <br />
                                <!-- answers -->
                                <div fxLayout="row" fxLayoutGap="10px" ngModelGroup="answerBank">
                                    <label>Answers:</label>
                                    <div fxLayout="column" fxLayoutGap="10px" >
                                        <div *ngFor="let answer of question.answers" style="flex-direction: column;">
                                            <input [(ngModel)]="question[question.id]" [checked]="question[question.id]" value="{{answer.id}};{{answer.isCorrect}}"
                                            name="question{{question.id}}" type="radio" required/>
                                            {{answer.text}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-card>                
                    </div>
                </div>           
                <button mat-menu-item>
                    <span>Submit</span>
                </button>
        </form>
        </mat-card-content>
        <mat-card-actions>
            <small><a routerLink="/presentation/{{quiz}}">Re-Take Training</a></small>
        </mat-card-actions>
    </mat-card>
</div>
